(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[26],{72:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return R}));var r=n(25),c=n(27),i=n(28),s=n(29),a=n(5),u=n(9),o=n.n(u),l=n(12),j=n(2),f=n(0),h=n(1),b=n.n(h),d=n(3),O=n(4),m=n(115),p=n(96),v=n.n(p),x=n(14),g=n(15),w=n(97),y=function(){function e(t){Object(r.a)(this,e),this.docs=void 0,this.docs=t}return Object(c.a)(e,[{key:"search",value:function(e,t){var n=t.limit,r=void 0===n?10:n,c=this.docs;if(e.length<=3){var i,s=e.toLowerCase(),a=[],u=Object(g.a)(this.docs);try{for(u.s();!(i=u.n()).done;){var o=i.value;if(o.url.toLowerCase().includes(s)&&(a.push(o),a.length===r))break}}catch(l){u.e(l)}finally{u.f()}a.length>=r&&(c=a)}return new w.a(c,{maxResultItems:r,selector:function(e){return e.url}}).find(e)}}]),e}(),E=n(34),k=n(10),S=n(23);function I(e){return e.startsWith("/")&&!/\s/.test(e)}function N(e){var t=e.title,n=e.q.trim().toLowerCase().split(/[ ,]+/),r=n.map((function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})),c="\\b(".concat(r.join("|"),")"),i=t.split(new RegExp(c,"gi"));return Object(f.jsx)("b",{children:i.map((function(e,t){var r="".concat(e,":").concat(t);return n.includes(e.toLowerCase())?Object(f.jsx)("mark",{children:e},r):Object(f.jsx)("span",{children:e},r)}))})}function z(e){var t=e.uri,n=e.positions;if(n){var r=t.split("");return Object(f.jsx)("small",{children:r.map((function(e,t){return n.includes(t)?Object(f.jsx)("mark",{children:e},t):Object(f.jsx)("span",{children:e},t)}))})}var c=t.split("/").slice(1).filter((function(e){return"docs"!==e}));return Object(f.jsx)("small",{children:c.join(" / ")})}function C(e){var t=e.inputValue,n=e.onChangeInputValue,r=e.isFocused,c=e.onChangeIsFocused,i=e.onResultPicked,s=e.defaultSelection,u=Object(d.g)(),b=Object(k.a)(),p=function(){var e=Object(h.useState)(!1),t=Object(j.a)(e,2),n=t[0],r=t[1],c=Object(h.useState)(null),i=Object(j.a)(c,2),s=i[0],a=i[1],u=Object(d.h)().locale,f="/".concat(u||"en-US","/search-index.json"),b=Object(x.a)(n?f:null,function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((n=e.sent).ok){e.next=9;break}return e.t0=Error,e.next=7,n.text();case 7:throw e.t1=e.sent,new e.t0(e.t1);case 9:return e.next=11,n.json();case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{revalidateOnFocus:!1}),O=b.error,m=b.data;return Object(h.useEffect)((function(){if(m&&!s){var e=v.a.create({tokenize:"forward"});m.forEach((function(t,n){var r=t.title;e.add(n,r)}));var t=new y(m);a({flex:e,fuzzy:t,items:m})}}),[s,n,m]),Object(h.useMemo)((function(){return[s,O,function(){return r(!0)}]}),[s,O,r])}(),g=Object(j.a)(p,3),w=g[0],C=g[1],M=g[2],R=Object(h.useRef)(null),F=Object(h.useRef)(null),q=Object(h.useRef)(!1),L=function(e,t){var n=Object(h.useState)(!1),r=Object(j.a)(n,2),c=r[0],i=r[1],s=Object(h.useRef)(e);return Object(h.useEffect)((function(){if(s.current!==e){s.current=e,i(!1);var n=setTimeout((function(){i(!0)}),t);return function(){clearTimeout(n)}}}),[e,t]),c}(t,500);Object(h.useEffect)((function(){R.current&&!q.current&&(r&&(R.current.selectionStart=s[0],R.current.selectionEnd=s[1]),q.current=!0)}),[r,s]);var P=Object(h.useMemo)((function(){if(!w||!t||C)return[];var e=window.innerHeight<850?5:10;return I(t)?"/"===t?[]:w.fuzzy.search(t.slice(1),{limit:e}).map((function(e){return{url:e.item.url,title:e.item.title,positions:e.positions}})):w.flex.search(t,{limit:e,suggest:!0}).map((function(e){return(w.items||[])[e]}))}),[t,w,C]),T="/".concat(b,"/search"),D=Object(h.useMemo)((function(){var e=new URLSearchParams;return e.set("q",t.trim()),"".concat(T,"?").concat(e.toString())}),[T,t]),U=Object(h.useMemo)((function(){return{url:D,title:"",positions:[]}}),[D]),V=Object(m.a)({items:0===P.length?[U]:P,inputValue:t,defaultIsOpen:r,onSelectedItemChange:function(e){var t,r=e.selectedItem;r&&(u(r.url),n(""),W(),G(),null===(t=R.current)||void 0===t||t.blur(),i&&i(),window.scroll({top:0,left:0,behavior:"smooth"}))}}),H=V.getInputProps,J=V.getItemProps,$=V.getMenuProps,A=V.getComboboxProps,B=V.highlightedIndex,K=V.isOpen,W=V.reset,G=V.toggleMenu;Object(S.b)(R),Object(h.useEffect)((function(){r&&M()}),[M,r]),Object(h.useEffect)((function(){var e=P[B];if(e&&Object(E.c)()){var t=setTimeout((function(){Object(E.b)("".concat(e.url,"/index.json"))}),500);return function(){clearTimeout(t)}}}),[B,P]);var Q=K&&t.trim()?C?Object(f.jsx)("div",{className:"searchindex-error",children:"Error initializing search index"}):w?Object(f.jsxs)(f.Fragment,{children:[0===P.length&&"/"!==t?Object(f.jsxs)("div",Object(a.a)(Object(a.a)({},J({className:"nothing-found result-item "+(0===B?"highlight":""),item:U,index:0})),{},{children:["No document titles found.",Object(f.jsx)("br",{}),Object(f.jsxs)(O.b,{to:D,children:["Site search for ",Object(f.jsx)("code",{children:t})]})]})):P.map((function(e,n){return Object(f.jsxs)("div",Object(a.a)(Object(a.a)({},J({key:e.url,className:"result-item "+(n===B?"highlight":""),item:e,index:n})),{},{children:[Object(f.jsx)(N,{title:e.title,q:t}),Object(f.jsx)("br",{}),Object(f.jsx)(z,{uri:e.url,positions:e.positions})]}))})),I(t)&&Object(f.jsx)("div",{className:"fuzzy-engaged",children:"Fuzzy searching by URI"})]}):L?Object(f.jsx)("div",{className:"indexing-warning",children:Object(f.jsx)("em",{children:"Initializing index"})}):null:null;return Object(f.jsxs)("form",Object(a.a)(Object(a.a)({action:T},A({ref:F,className:"search-form search-widget",id:"nav-main-search",role:"search",onSubmit:function(e){e.preventDefault()}})),{},{children:[Object(f.jsx)("label",{htmlFor:"main-q",className:"visually-hidden",children:"Search MDN"}),Object(f.jsx)("input",Object(a.a)({},H({type:"search",className:K?"has-search-results search-input-field":"search-input-field",id:"main-q",name:"q",placeholder:Object(S.a)(r),onMouseOver:M,onFocus:function(){c(!0)},onBlur:function(){return c(!1)},onKeyDown:function(e){"Escape"===e.key&&R.current?R.current.blur():"Enter"===e.key&&t.trim()&&-1===B&&(R.current.blur(),F.current.submit())},onChange:function(e){e.target instanceof HTMLInputElement&&n(e.target.value)},ref:function(e){R.current=e}}))),Object(f.jsx)("input",{type:"submit",className:"ghost search-button",value:"","aria-label":"Search"}),Object(f.jsx)("div",Object(a.a)(Object(a.a)({},$()),{},{children:Q&&Object(f.jsx)("div",{className:"search-results",children:Q})}))]}))}var M=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var c=arguments.length,i=new Array(c),s=0;s<c;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={hasError:!1},e}return Object(c.a)(n,[{key:"render",value:function(){return this.state.hasError?Object(f.jsx)("div",{children:"Error while rendering search. Check console for details."}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return console.error("There was an error while trying to render search",e),{hasError:!0}}}]),n}(b.a.Component);function R(e){return Object(f.jsx)(M,{children:Object(f.jsx)(C,Object(a.a)({},e))})}}}]);
//# sourceMappingURL=26.1cae061f.chunk.js.map